# CampOne ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

> ì´ ë¬¸ì„œëŠ” CampOne í”Œë«í¼ì˜ ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## 1. ì‹œìŠ¤í…œ ê°œìš”

### 1.1 ì„œë¹„ìŠ¤ êµ¬ì„±

CampOneì€ **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜**ë¡œ êµ¬ì„±ë˜ë©°, ê° ì„œë¹„ìŠ¤ëŠ” ë…ë¦½ëœ í”„ë¡œì íŠ¸ë¡œ ì¡´ì¬í•©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CampOne í”Œë«í¼ êµ¬ì„±                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   ğŸ”’ ë‚´ë¶€ ì„œë¹„ìŠ¤ (ê´€ë¦¬ììš©)                                              â”‚
â”‚   â”œâ”€â”€ Dashboard    - ë©”ì¸ ëŒ€ì‹œë³´ë“œ, KPI ëª¨ë‹ˆí„°ë§                         â”‚
â”‚   â”œâ”€â”€ Pulse        - ì—¬ë¡  íŠ¸ë Œë“œ ë¶„ì„ (Google/Naver/SNS)                â”‚
â”‚   â”œâ”€â”€ Studio       - ì½˜í…ì¸  ì œì‘ ë° ë°°í¬                                 â”‚
â”‚   â”œâ”€â”€ Policy       - ê³µì•½ ê´€ë¦¬ ë° ì •ì±… ì •ë³´                              â”‚
â”‚   â””â”€â”€ Ops          - ìº í”„ ìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸                                â”‚
â”‚                                                                         â”‚
â”‚   ğŸŒ ê³µê°œ ì„œë¹„ìŠ¤ (ì‹œë¯¼ìš©)                                                â”‚
â”‚   â””â”€â”€ Civic Hub    - ê³µì•½ ì—´ëŒ, í–‰ì‚¬ ì¼ì •, ì‹œë¯¼ ì°¸ì—¬                     â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ì„œë¹„ìŠ¤ë³„ ì—­í• 

| ì„œë¹„ìŠ¤ | ì ‘ê·¼ | ì£¼ìš” ê¸°ëŠ¥ | ë°ì´í„° |
|--------|------|----------|--------|
| **Dashboard** | ğŸ”’ ë‚´ë¶€ | KPI ëŒ€ì‹œë³´ë“œ, ì•Œë¦¼, ëª¨ë“ˆ ì§„ì…ì  | ì§‘ê³„ ë°ì´í„° |
| **Pulse** | ğŸ”’ ë‚´ë¶€ | ì—¬ë¡  ì§€ìˆ˜ ë¶„ì„, íŠ¸ë Œë“œ ëª¨ë‹ˆí„°ë§ | íŠ¸ë Œë“œ ë°ì´í„° |
| **Studio** | ğŸ”’ ë‚´ë¶€ | ë°°ë„ˆ/ì½˜í…ì¸  ì œì‘, ë¯¸ë””ì–´ ê´€ë¦¬ | ë¯¸ë””ì–´ ìì‚° |
| **Policy** | ğŸ”’ ë‚´ë¶€ | ê³µì•½ ì‘ì„±/í¸ì§‘, ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° | ì •ì±… ë¬¸ì„œ |
| **Ops** | ğŸ”’ ë‚´ë¶€ | ìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸, ì¼ì • ê´€ë¦¬ | íƒœìŠ¤í¬, ì¼ì • |
| **Civic Hub** | ğŸŒ ê³µê°œ | ê³µì•½ ì—´ëŒ, í–‰ì‚¬ ì°¸ì—¬, í›„ì› | ë°œí–‰ëœ ì½˜í…ì¸  |

---

## 2. ì¸í”„ë¼ ì•„í‚¤í…ì²˜

### 2.1 Google Cloud Platform êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Cloud Load Balancer                              â”‚
â”‚                    (HTTPS ì¢…ë£Œ, ë¼ìš°íŒ… ê·œì¹™)                             â”‚
â”‚                         + Cloud Armor (WAF)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚                   â”‚
         â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ admin.campone.  â”‚ â”‚ campone.cloud   â”‚ â”‚ cdn.campone.    â”‚
â”‚ cloud/*         â”‚ â”‚ (Civic Hub)     â”‚ â”‚ cloud/*         â”‚
â”‚                 â”‚ â”‚                 â”‚ â”‚                 â”‚
â”‚ ğŸ”’ IAP ë³´í˜¸     â”‚ â”‚ ğŸŒ ê³µê°œ         â”‚ â”‚ ğŸŒ ì •ì  ìì‚°    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                   â”‚                   â”‚
         â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Cloud Run Services                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚Dashboard â”‚ â”‚  Pulse   â”‚ â”‚  Studio  â”‚ â”‚  Policy  â”‚ â”‚   Ops    â”‚     â”‚
â”‚  â”‚  :8080   â”‚ â”‚  :8080   â”‚ â”‚  :8080   â”‚ â”‚  :8080   â”‚ â”‚  :8080   â”‚     â”‚
â”‚  â”‚ ğŸ”’ ë‚´ë¶€  â”‚ â”‚ ğŸ”’ ë‚´ë¶€  â”‚ â”‚ ğŸ”’ ë‚´ë¶€  â”‚ â”‚ ğŸ”’ ë‚´ë¶€  â”‚ â”‚ ğŸ”’ ë‚´ë¶€  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â”‚
â”‚       â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
â”‚       â–¼            â–¼            â–¼            â–¼            â–¼            â”‚
â”‚      DB-1         DB-2         DB-3         DB-4         DB-5          â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚                        Civic Hub                              â”‚     â”‚
â”‚  â”‚                         :8080                                 â”‚     â”‚
â”‚  â”‚                        ğŸŒ ê³µê°œ                                â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                â”‚                                        â”‚
â”‚                                â–¼                                        â”‚
â”‚                              DB-6                                       â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Cloud Storage                                    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ campone-public  â”‚  â”‚ campone-assets  â”‚  â”‚ campone-private â”‚        â”‚
â”‚  â”‚    ğŸŒ ê³µê°œ      â”‚  â”‚   ğŸ”’ ì„œë¹„ìŠ¤ê°„   â”‚  â”‚    ğŸ”’ ë‚´ë¶€      â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ë„ë©”ì¸ ë° ë¼ìš°íŒ…

| ë„ë©”ì¸ | ëŒ€ìƒ | ì ‘ê·¼ ì œì–´ | ìš©ë„ |
|--------|------|----------|------|
| `campone.cloud` | Civic Hub | ğŸŒ ê³µê°œ | ì‹œë¯¼ í¬í„¸ ë©”ì¸ |
| `admin.campone.cloud` | Dashboard | ğŸ”’ IAP | ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ |
| `admin.campone.cloud/pulse/*` | Pulse | ğŸ”’ IAP | ì—¬ë¡  ë¶„ì„ |
| `admin.campone.cloud/studio/*` | Studio | ğŸ”’ IAP | ì½˜í…ì¸  ì œì‘ |
| `admin.campone.cloud/policy/*` | Policy | ğŸ”’ IAP | ì •ì±… ê´€ë¦¬ |
| `admin.campone.cloud/ops/*` | Ops | ğŸ”’ IAP | ìš´ì˜ ê´€ë¦¬ |
| `cdn.campone.cloud/*` | Cloud Storage | ğŸŒ ê³µê°œ | ì •ì  ìì‚° CDN |

### 2.3 ì ‘ê·¼ ì œì–´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì ‘ê·¼ ì œì–´ ë°©ì‹                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ”’ ë‚´ë¶€ ì„œë¹„ìŠ¤ (Dashboard, Pulse, Studio, Policy, Ops)                 â”‚
â”‚  â”‚                                                                      â”‚
â”‚  â”œâ”€â”€ Option A: Cloud IAP (Identity-Aware Proxy)                         â”‚
â”‚  â”‚   - Google Workspace ê³„ì • ê¸°ë°˜ ì¸ì¦                                  â”‚
â”‚  â”‚   - GCP ì½˜ì†”ì—ì„œ ì„¤ì •, ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”                              â”‚
â”‚  â”‚   - ì¶”ì²œ: ë‚´ë¶€ ì§ì›ë§Œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°                                  â”‚
â”‚  â”‚                                                                      â”‚
â”‚  â”œâ”€â”€ Option B: Cloud Run ì¸ì¦                                           â”‚
â”‚  â”‚   - --no-allow-unauthenticated í”Œë˜ê·¸                                â”‚
â”‚  â”‚   - ì„œë¹„ìŠ¤ ê°„ í˜¸ì¶œì€ Service Accountë¡œ                               â”‚
â”‚  â”‚                                                                      â”‚
â”‚  â””â”€â”€ Option C: ì•± ë ˆë²¨ ì¸ì¦ (NextAuth)                                  â”‚
â”‚      - í˜„ì¬ Dashboardì— êµ¬í˜„ëœ ë°©ì‹                                     â”‚
â”‚      - ì„œë¹„ìŠ¤ëŠ” ê³µê°œí•˜ë˜ ì•±ì—ì„œ ì¸ì¦ ì²˜ë¦¬                               â”‚
â”‚                                                                         â”‚
â”‚  ğŸŒ ê³µê°œ ì„œë¹„ìŠ¤ (Civic Hub)                                             â”‚
â”‚  â”‚                                                                      â”‚
â”‚  â””â”€â”€ --allow-unauthenticated                                            â”‚
â”‚      - ëˆ„êµ¬ë‚˜ ì ‘ê·¼ ê°€ëŠ¥                                                 â”‚
â”‚      - Rate Limitingì€ Cloud Armorì—ì„œ ì²˜ë¦¬                             â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ë°ì´í„° ì•„í‚¤í…ì²˜

### 3.1 ë°ì´í„°ë² ì´ìŠ¤ ì „ëµ

ê° ì„œë¹„ìŠ¤ëŠ” **ë…ë¦½ëœ ë°ì´í„°ë² ì´ìŠ¤**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì„œë¹„ìŠ¤ë³„ ë…ë¦½ DB                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Dashboard â”€â”€â–¶ DB-1 (PostgreSQL)                                        â”‚
â”‚                - ì‚¬ìš©ì ì •ë³´                                             â”‚
â”‚                - ì•Œë¦¼/ì„¤ì •                                               â”‚
â”‚                                                                         â”‚
â”‚  Pulse     â”€â”€â–¶ DB-2 (PostgreSQL)                                        â”‚
â”‚                - íŠ¸ë Œë“œ ë°ì´í„° (Google, Naver, SNS)                      â”‚
â”‚                - ë¶„ì„ ê²°ê³¼                                               â”‚
â”‚                                                                         â”‚
â”‚  Studio    â”€â”€â–¶ DB-3 (PostgreSQL)                                        â”‚
â”‚                - ì½˜í…ì¸  ë©”íƒ€ë°ì´í„°                                       â”‚
â”‚                - ë¯¸ë””ì–´ ìì‚° ì •ë³´                                        â”‚
â”‚                                                                         â”‚
â”‚  Policy    â”€â”€â–¶ DB-4 (PostgreSQL)                                        â”‚
â”‚                - ê³µì•½/ì •ì±… ë¬¸ì„œ                                          â”‚
â”‚                - ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš°                                         â”‚
â”‚                                                                         â”‚
â”‚  Ops       â”€â”€â–¶ DB-5 (PostgreSQL)                                        â”‚
â”‚                - íƒœìŠ¤í¬/ì²´í¬ë¦¬ìŠ¤íŠ¸                                       â”‚
â”‚                - ì¼ì • ê´€ë¦¬                                               â”‚
â”‚                                                                         â”‚
â”‚  Civic Hub â”€â”€â–¶ DB-6 (PostgreSQL)                                        â”‚
â”‚                - ì‹œë¯¼ ì°¸ì—¬ ë°ì´í„°                                        â”‚
â”‚                - í›„ì› ì •ë³´                                               â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ì„œë¹„ìŠ¤ ê°„ ë°ì´í„° ê³µìœ : Cloud Storage

ì„œë¹„ìŠ¤ ê°„ ì‚°ì¶œë¬¼ ê³µìœ ëŠ” **Cloud Storage**ë¥¼ í†µí•´ ì²˜ë¦¬í•©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cloud Storage ê¸°ë°˜ ë°ì´í„° ê³µìœ                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Studio â”€â”€â”¬â”€â”€â–¶ ìì²´ DB (ë©”íƒ€ë°ì´í„°)                                     â”‚
â”‚           â””â”€â”€â–¶ gs://campone-public/                                     â”‚
â”‚                  â”œâ”€â”€ banners/banner-001.png                             â”‚
â”‚                  â”œâ”€â”€ images/...                                         â”‚
â”‚                  â””â”€â”€ data/content.json    â—€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚                                                    â”‚                    â”‚
â”‚  Policy â”€â”€â”¬â”€â”€â–¶ ìì²´ DB                             â”‚                    â”‚
â”‚           â””â”€â”€â–¶ gs://campone-public/                â”‚                    â”‚
â”‚                  â””â”€â”€ data/policies.json  â—€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”                â”‚
â”‚                                                    â”‚   â”‚                â”‚
â”‚  Ops â”€â”€â”€â”€â”¬â”€â”€â–¶ ìì²´ DB                              â”‚   â”‚                â”‚
â”‚          â””â”€â”€â–¶ gs://campone-public/                 â”‚   â”‚                â”‚
â”‚                  â””â”€â”€ data/events.json    â—€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”            â”‚
â”‚                                                    â”‚   â”‚   â”‚            â”‚
â”‚                                                    â”‚   â”‚   â”‚            â”‚
â”‚  Civic Hub â”€â”€â–¶ ìì²´ DB                             â”‚   â”‚   â”‚            â”‚
â”‚          â””â”€â”€â–¶ Storageì—ì„œ ì½ê¸° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜            â”‚
â”‚               (ISR/SSGë¡œ ìºì‹±)                                          â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Cloud Storage ë²„í‚· êµ¬ì¡°

```
campone-public/                      ğŸŒ ê³µê°œ (CDN ì—°ê²°)
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ candidates/                  # í›„ë³´ ì‚¬ì§„
â”‚   â”œâ”€â”€ events/                      # í–‰ì‚¬ ì‚¬ì§„
â”‚   â””â”€â”€ og/                          # OG ì´ë¯¸ì§€
â”‚
â”œâ”€â”€ videos/
â”‚   â””â”€â”€ thumbnails/
â”‚
â”œâ”€â”€ banners/                         # ë°œí–‰ëœ ë°°ë„ˆ
â”‚
â”œâ”€â”€ data/                            ğŸ“„ JSON API ì—­í• 
â”‚   â”œâ”€â”€ policies.json                # ê³µì•½ ëª©ë¡ (Policy â†’ Civic Hub)
â”‚   â”œâ”€â”€ events.json                  # í–‰ì‚¬ ì¼ì • (Ops â†’ Civic Hub)
â”‚   â”œâ”€â”€ content.json                 # ì½˜í…ì¸  (Studio â†’ Civic Hub)
â”‚   â””â”€â”€ manifest.json                # ë²„ì „ ì •ë³´
â”‚
â””â”€â”€ downloads/                       # ë‹¤ìš´ë¡œë“œ íŒŒì¼
    â”œâ”€â”€ pledge-book.pdf
    â””â”€â”€ volunteer-guide.pdf

campone-assets/                      ğŸ”’ ì„œë¹„ìŠ¤ ê°„ ê³µìœ  (ì¸ì¦ í•„ìš”)
â”œâ”€â”€ studio/
â”‚   â”œâ”€â”€ drafts/                      # ì‘ì—… ì¤‘
â”‚   â””â”€â”€ templates/                   # í…œí”Œë¦¿
â”‚
â”œâ”€â”€ policy/
â”‚   â””â”€â”€ documents/                   # ë‚´ë¶€ ë¬¸ì„œ
â”‚
â””â”€â”€ shared/
    â”œâ”€â”€ fonts/
    â””â”€â”€ logos/

campone-private/                     ğŸ”’ ë‚´ë¶€ ì „ìš©
â”œâ”€â”€ backups/
â”œâ”€â”€ logs/
â””â”€â”€ temp/
```

---

## 4. ë°ì´í„° ë°œí–‰ íë¦„

### 4.1 ì½˜í…ì¸  ë°œí–‰ (Studio â†’ Civic Hub)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Studioì—ì„œ ì½˜í…ì¸  ë°œí–‰                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  [Studio ê´€ë¦¬ì]                                                         â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”‚ 1. ë°°ë„ˆ ì—…ë¡œë“œ & "ë°œí–‰" í´ë¦­                                     â”‚
â”‚       â–¼                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚  Studio Service  â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚           â”‚                                                             â”‚
â”‚           â”‚ 2. ì´ë¯¸ì§€ ì—…ë¡œë“œ                                             â”‚
â”‚           â”‚    gs://campone-public/banners/banner-001.png               â”‚
â”‚           â”‚                                                             â”‚
â”‚           â”‚ 3. JSON ë°œí–‰                                                 â”‚
â”‚           â”‚    gs://campone-public/data/content.json                    â”‚
â”‚           â”‚    {                                                        â”‚
â”‚           â”‚      "data": {                                              â”‚
â”‚           â”‚        "banners": [                                         â”‚
â”‚           â”‚          { "id": "b1", "imageUrl": "...", "title": "..." }  â”‚
â”‚           â”‚        ]                                                    â”‚
â”‚           â”‚      },                                                     â”‚
â”‚           â”‚      "publishedAt": "2025-01-20T10:00:00Z",                 â”‚
â”‚           â”‚      "version": 1737363600000                               â”‚
â”‚           â”‚    }                                                        â”‚
â”‚           â–¼                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚  Cloud Storage   â”‚                                                   â”‚
â”‚  â”‚  (campone-public)â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚           â”‚                                                             â”‚
â”‚           â”‚ 4. CDN ìºì‹œ (Cache-Control: max-age=300)                    â”‚
â”‚           â–¼                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚    Cloud CDN     â”‚                                                   â”‚
â”‚  â”‚  (5ë¶„ í›„ ê°±ì‹ )   â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚           â”‚                                                             â”‚
â”‚           â”‚ 5. ì‹œë¯¼ ì ‘ì† ì‹œ fetch                                        â”‚
â”‚           â–¼                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚    Civic Hub     â”‚                                                   â”‚
â”‚  â”‚  (Next.js ISR)   â”‚                                                   â”‚
â”‚  â”‚                  â”‚                                                   â”‚
â”‚  â”‚  revalidate: 300 â”‚ â† 5ë¶„ë§ˆë‹¤ ì¬ê²€ì¦                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚           â”‚                                                             â”‚
â”‚           â”‚ 6. ë Œë”ë§ëœ í˜ì´ì§€                                           â”‚
â”‚           â–¼                                                             â”‚
â”‚  [ì‹œë¯¼ ë¸Œë¼ìš°ì €]                                                         â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 JSON ë°ì´í„° ìŠ¤í‚¤ë§ˆ

```typescript
// data/content.json (Studioì—ì„œ ë°œí–‰)
interface ContentData {
  data: {
    banners: Array<{
      id: string;
      title: string;
      imageUrl: string;
      link?: string;
      order: number;
    }>;
    videos: Array<{
      id: string;
      title: string;
      youtubeId: string;
      thumbnailUrl: string;
    }>;
  };
  publishedAt: string;  // ISO 8601
  version: number;      // timestamp
}

// data/policies.json (Policyì—ì„œ ë°œí–‰)
interface PoliciesData {
  data: {
    items: Array<{
      id: string;
      category: string;
      title: string;
      summary: string;
      details: string;
      iconUrl?: string;
    }>;
    categories: string[];
    total: number;
  };
  publishedAt: string;
  version: number;
}

// data/events.json (Opsì—ì„œ ë°œí–‰)
interface EventsData {
  data: {
    items: Array<{
      id: string;
      title: string;
      type: 'offline' | 'online' | 'hybrid';
      location: string;
      start: string;
      end: string;
      description: string;
      registrationUrl?: string;
    }>;
    total: number;
  };
  publishedAt: string;
  version: number;
}

// data/manifest.json (ë²„ì „ ê´€ë¦¬)
interface Manifest {
  content: number | null;   // content.json ë²„ì „
  policies: number | null;  // policies.json ë²„ì „
  events: number | null;    // events.json ë²„ì „
  lastUpdated: string;
}
```

---

## 5. êµ¬í˜„ ê°€ì´ë“œ

### 5.1 Cloud Storage ìœ í‹¸ë¦¬í‹°

```typescript
// packages/storage/src/index.ts (ê³µìœ  íŒ¨í‚¤ì§€ ë˜ëŠ” ê° ì„œë¹„ìŠ¤ì— ë³µì‚¬)

import { Storage } from '@google-cloud/storage';

const storage = new Storage();

export const BUCKETS = {
  PUBLIC: 'campone-public',
  ASSETS: 'campone-assets',
  PRIVATE: 'campone-private',
} as const;

// ê³µê°œ URL ìƒì„±
export function getPublicUrl(bucket: string, path: string): string {
  return `https://storage.googleapis.com/${bucket}/${path}`;
}

// CDN URL
export function getCdnUrl(path: string): string {
  return `https://cdn.campone.cloud/${path}`;
}

// íŒŒì¼ ì—…ë¡œë“œ
export async function uploadFile(
  bucket: string,
  path: string,
  data: Buffer | string,
  options?: {
    contentType?: string;
    cacheControl?: string;
  }
): Promise<string> {
  const file = storage.bucket(bucket).file(path);

  await file.save(data, {
    contentType: options?.contentType || 'application/octet-stream',
    metadata: {
      cacheControl: options?.cacheControl || 'public, max-age=3600',
    },
  });

  return getPublicUrl(bucket, path);
}

// JSON ë°œí–‰
export async function publishJson<T>(
  path: string,
  data: T,
  cacheMaxAge: number = 300
): Promise<{ url: string; version: number }> {
  const version = Date.now();
  const payload = {
    data,
    publishedAt: new Date().toISOString(),
    version,
  };

  await uploadFile(
    BUCKETS.PUBLIC,
    `data/${path}`,
    JSON.stringify(payload, null, 2),
    {
      contentType: 'application/json',
      cacheControl: `public, max-age=${cacheMaxAge}`,
    }
  );

  return {
    url: getPublicUrl(BUCKETS.PUBLIC, `data/${path}`),
    version,
  };
}
```

### 5.2 Civic Hubì—ì„œ ë°ì´í„° ì½ê¸°

```typescript
// apps/civic-hub/src/lib/content.ts

const STORAGE_BASE = 'https://storage.googleapis.com/campone-public/data';

export async function getPolicies() {
  const res = await fetch(`${STORAGE_BASE}/policies.json`, {
    next: { revalidate: 300 }  // 5ë¶„ ISR
  });

  if (!res.ok) return { items: [], categories: [], total: 0 };

  const { data } = await res.json();
  return data;
}

export async function getContent() {
  const res = await fetch(`${STORAGE_BASE}/content.json`, {
    next: { revalidate: 300 }
  });

  if (!res.ok) return { banners: [], videos: [] };

  const { data } = await res.json();
  return data;
}

export async function getEvents() {
  const res = await fetch(`${STORAGE_BASE}/events.json`, {
    next: { revalidate: 300 }
  });

  if (!res.ok) return { items: [], total: 0 };

  const { data } = await res.json();
  return data;
}
```

### 5.3 í˜ì´ì§€ì—ì„œ ì‚¬ìš©

```typescript
// apps/civic-hub/src/app/policy/page.tsx

import { getPolicies } from '@/lib/content';

export const revalidate = 300;

export default async function PolicyPage() {
  const { items, categories } = await getPolicies();

  return (
    <main>
      <h1>ê³µì•½</h1>

      {categories.map(category => (
        <section key={category}>
          <h2>{category}</h2>
          {items
            .filter(p => p.category === category)
            .map(policy => (
              <article key={policy.id}>
                <h3>{policy.title}</h3>
                <p>{policy.summary}</p>
              </article>
            ))}
        </section>
      ))}
    </main>
  );
}
```

---

## 6. ë°°í¬ êµ¬ì„±

### 6.1 Cloud Run ì„œë¹„ìŠ¤ë³„ ì„¤ì •

```yaml
# cloudbuild.civic-hub.yaml (ê³µê°œ ì„œë¹„ìŠ¤)
steps:
  - name: 'gcr.io/cloud-builders/docker'
    args: ['build', '-t', 'gcr.io/$PROJECT_ID/civic-hub:$COMMIT_SHA', '.']

  - name: 'gcr.io/cloud-builders/docker'
    args: ['push', 'gcr.io/$PROJECT_ID/civic-hub:$COMMIT_SHA']

  - name: 'gcr.io/google.com/cloudsdktool/cloud-sdk'
    entrypoint: gcloud
    args:
      - 'run'
      - 'deploy'
      - 'civic-hub'
      - '--image'
      - 'gcr.io/$PROJECT_ID/civic-hub:$COMMIT_SHA'
      - '--region'
      - 'asia-northeast3'
      - '--allow-unauthenticated'  # ğŸŒ ê³µê°œ
      - '--memory'
      - '512Mi'
      - '--cpu'
      - '1'
```

```yaml
# cloudbuild.studio.yaml (ë‚´ë¶€ ì„œë¹„ìŠ¤)
steps:
  - name: 'gcr.io/cloud-builders/docker'
    args: ['build', '-t', 'gcr.io/$PROJECT_ID/studio:$COMMIT_SHA', '.']

  - name: 'gcr.io/cloud-builders/docker'
    args: ['push', 'gcr.io/$PROJECT_ID/studio:$COMMIT_SHA']

  - name: 'gcr.io/google.com/cloudsdktool/cloud-sdk'
    entrypoint: gcloud
    args:
      - 'run'
      - 'deploy'
      - 'studio'
      - '--image'
      - 'gcr.io/$PROJECT_ID/studio:$COMMIT_SHA'
      - '--region'
      - 'asia-northeast3'
      - '--no-allow-unauthenticated'  # ğŸ”’ ë¹„ê³µê°œ
      - '--memory'
      - '1Gi'
      - '--cpu'
      - '1'
```

### 6.2 ì„œë¹„ìŠ¤ ê³„ì • ê¶Œí•œ

```bash
# Studio ì„œë¹„ìŠ¤: Storage ì“°ê¸° ê¶Œí•œ
gcloud projects add-iam-policy-binding campone-prod \
  --member="serviceAccount:studio-sa@campone-prod.iam.gserviceaccount.com" \
  --role="roles/storage.objectAdmin"

# Civic Hub ì„œë¹„ìŠ¤: Storage ì½ê¸°ë§Œ
gcloud projects add-iam-policy-binding campone-prod \
  --member="serviceAccount:civic-hub-sa@campone-prod.iam.gserviceaccount.com" \
  --role="roles/storage.objectViewer"
```

---

## 7. CDN êµ¬ì„±

### 7.1 Cloud CDN + Load Balancer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CDN êµ¬ì„±                                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ì‚¬ìš©ì ìš”ì²­: https://cdn.campone.cloud/images/banner.png               â”‚
â”‚      â”‚                                                                  â”‚
â”‚      â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚   Global External HTTP(S) LB        â”‚                               â”‚
â”‚  â”‚   - SSL ì¸ì¦ì„œ (managed)            â”‚                               â”‚
â”‚  â”‚   - URL Map ë¼ìš°íŒ…                  â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚      â”‚                                                                  â”‚
â”‚      â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚         Cloud CDN                   â”‚                               â”‚
â”‚  â”‚   - ì—£ì§€ ìºì‹± (ì„œìš¸, ë„ì¿„ ë“±)       â”‚                               â”‚
â”‚  â”‚   - Cache-Control í—¤ë” ì¡´ì¤‘         â”‚                               â”‚
â”‚  â”‚   - ìºì‹œ íˆíŠ¸ ì‹œ ì¦‰ì‹œ ì‘ë‹µ          â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚      â”‚ cache miss                                                       â”‚
â”‚      â–¼                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚     Backend Bucket                  â”‚                               â”‚
â”‚  â”‚     (gs://campone-public)           â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 ìºì‹œ ì •ì±…

| íŒŒì¼ ìœ í˜• | Cache-Control | TTL | ì´ìœ  |
|----------|---------------|-----|------|
| `data/*.json` | `public, max-age=300` | 5ë¶„ | ìì£¼ ì—…ë°ì´íŠ¸ |
| `images/*` | `public, max-age=86400` | 24ì‹œê°„ | ë³€ê²½ ì ìŒ |
| `banners/*` | `public, max-age=3600` | 1ì‹œê°„ | ì¤‘ê°„ ë¹ˆë„ |
| `downloads/*` | `public, max-age=604800` | 7ì¼ | ê±°ì˜ ë³€ê²½ ì—†ìŒ |

---

## 8. ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### 8.1 Cloud Monitoring

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ëª¨ë‹ˆí„°ë§ ëŒ€ìƒ                                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Cloud Run ë©”íŠ¸ë¦­                                                        â”‚
â”‚  â”œâ”€â”€ ìš”ì²­ ìˆ˜ (request_count)                                            â”‚
â”‚  â”œâ”€â”€ ì‘ë‹µ ì‹œê°„ (request_latencies)                                      â”‚
â”‚  â”œâ”€â”€ ì—ëŸ¬ìœ¨ (4xx, 5xx)                                                  â”‚
â”‚  â”œâ”€â”€ ì¸ìŠ¤í„´ìŠ¤ ìˆ˜ (instance_count)                                       â”‚
â”‚  â””â”€â”€ CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰                                                  â”‚
â”‚                                                                         â”‚
â”‚  Cloud Storage ë©”íŠ¸ë¦­                                                    â”‚
â”‚  â”œâ”€â”€ ìš”ì²­ ìˆ˜ (api/request_count)                                        â”‚
â”‚  â”œâ”€â”€ ë‹¤ìš´ë¡œë“œ ë°”ì´íŠ¸ (network/received_bytes_count)                     â”‚
â”‚  â””â”€â”€ ì—ëŸ¬ìœ¨                                                             â”‚
â”‚                                                                         â”‚
â”‚  Cloud CDN ë©”íŠ¸ë¦­                                                        â”‚
â”‚  â”œâ”€â”€ ìºì‹œ íˆíŠ¸ìœ¨ (cache_hit_ratio)                                      â”‚
â”‚  â”œâ”€â”€ ì‘ë‹µ ì‹œê°„                                                          â”‚
â”‚  â””â”€â”€ ëŒ€ì—­í­ ì‚¬ìš©ëŸ‰                                                      â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 ì•Œë¦¼ ì„¤ì •

```yaml
# ê¶Œì¥ ì•Œë¦¼ ì¡°ê±´
alerts:
  - name: "High Error Rate"
    condition: "error_rate > 5%"
    duration: "5m"

  - name: "High Latency"
    condition: "p99_latency > 2s"
    duration: "5m"

  - name: "Storage Publish Failed"
    condition: "storage_errors > 0"
    duration: "1m"
```

---

## 9. ë¹„ìš© ì˜ˆì¸¡

### 9.1 ì›”ê°„ ì˜ˆìƒ ë¹„ìš© (ì†Œê·œëª¨)

| ì„œë¹„ìŠ¤ | ì‚¬ìš©ëŸ‰ | ì˜ˆìƒ ë¹„ìš© |
|--------|--------|----------|
| **Cloud Run** (6ê°œ ì„œë¹„ìŠ¤) | ê° ìµœì†Œ ì¸ìŠ¤í„´ìŠ¤ | ~$30 |
| **Cloud SQL** (6ê°œ DB) | db-f1-micro | ~$60 |
| **Cloud Storage** | 10GB + 100GB ì „ì†¡ | ~$15 |
| **Cloud CDN** | 100GB ì „ì†¡ | ~$10 |
| **Load Balancer** | ê¸°ë³¸ | ~$20 |
| **í•©ê³„** | | **~$135/ì›”** |

### 9.2 ë¹„ìš© ìµœì í™” íŒ

- Cloud Run: ìµœì†Œ ì¸ìŠ¤í„´ìŠ¤ 0ìœ¼ë¡œ ì„¤ì • (ì½œë“œ ìŠ¤íƒ€íŠ¸ í—ˆìš© ì‹œ)
- Cloud SQL: ê°œë°œ í™˜ê²½ì€ ê³µìœ  CPU ì‚¬ìš©
- Storage: Lifecycle ì •ì±…ìœ¼ë¡œ ì˜¤ë˜ëœ íŒŒì¼ ìë™ ì‚­ì œ

---

## 10. í–¥í›„ í™•ì¥ ê³ ë ¤ì‚¬í•­

### 10.1 ë°ì´í„° ë™ê¸°í™” ê°•í™”

í˜„ì¬ Storage JSON ë°©ì‹ì—ì„œ í™•ì¥ í•„ìš” ì‹œ:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í™•ì¥ ì˜µì…˜                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Level 1: Cloud Storage (í˜„ì¬)                                          â”‚
â”‚  â””â”€â”€ JSON íŒŒì¼ ë°œí–‰/ì½ê¸°                                                â”‚
â”‚                                                                         â”‚
â”‚  Level 2: Cloud Pub/Sub                                                 â”‚
â”‚  â””â”€â”€ ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ì „íŒŒ                                                 â”‚
â”‚      Studio â”€â”€publishâ”€â”€â–¶ [content-updated] â”€â”€subscribeâ”€â”€â–¶ Civic Hub    â”‚
â”‚                                                                         â”‚
â”‚  Level 3: ê³µìœ  API Gateway                                              â”‚
â”‚  â””â”€â”€ ë³„ë„ API ì„œë¹„ìŠ¤ë¡œ ë°ì´í„° ì¤‘ì•™í™”                                    â”‚
â”‚      api.campone.cloud/v1/content                                       â”‚
â”‚      api.campone.cloud/v1/policies                                      â”‚
â”‚                                                                         â”‚
â”‚  Level 4: ê³µìœ  ë°ì´í„°ë² ì´ìŠ¤                                              â”‚
â”‚  â””â”€â”€ ê³µê°œìš© ë°ì´í„°ë§Œ ë³„ë„ DBë¡œ ë¶„ë¦¬                                     â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.2 ì¸ì¦ í†µí•©

ì„œë¹„ìŠ¤ ê°„ SSO í•„ìš” ì‹œ:

- **Firebase Auth** ë˜ëŠ” **Auth0** ë„ì…
- JWT í† í° ê³µìœ 
- ì¤‘ì•™ ì‚¬ìš©ì ê´€ë¦¬

---

## 11. ì²´í¬ë¦¬ìŠ¤íŠ¸

### 11.1 ì¸í”„ë¼ êµ¬ì¶•

| ë‹¨ê³„ | ì‘ì—… | ìƒíƒœ |
|------|------|------|
| 1 | GCP í”„ë¡œì íŠ¸ ìƒì„± | â¬œ |
| 2 | Cloud Storage ë²„í‚· ìƒì„± (public, assets, private) | â¬œ |
| 3 | ì„œë¹„ìŠ¤ ê³„ì • ìƒì„± ë° ê¶Œí•œ ì„¤ì • | â¬œ |
| 4 | Cloud Run ì„œë¹„ìŠ¤ ë°°í¬ | â¬œ |
| 5 | Load Balancer + CDN ì„¤ì • | â¬œ |
| 6 | ë„ë©”ì¸ ì—°ê²° ë° SSL ì¸ì¦ì„œ | â¬œ |
| 7 | IAP ì„¤ì • (ë‚´ë¶€ ì„œë¹„ìŠ¤) | â¬œ |
| 8 | ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ êµ¬ì„± | â¬œ |

### 11.2 ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬í˜„

| ë‹¨ê³„ | ì‘ì—… | ìƒíƒœ |
|------|------|------|
| 1 | Storage ìœ í‹¸ë¦¬í‹° ëª¨ë“ˆ êµ¬í˜„ | â¬œ |
| 2 | Studio: ì½˜í…ì¸  ë°œí–‰ ê¸°ëŠ¥ | â¬œ |
| 3 | Policy: ê³µì•½ ë°œí–‰ ê¸°ëŠ¥ | â¬œ |
| 4 | Ops: ì´ë²¤íŠ¸ ë°œí–‰ ê¸°ëŠ¥ | â¬œ |
| 5 | Civic Hub: ë°ì´í„° ì½ê¸° ì—°ë™ | â¬œ |
| 6 | ê° ì„œë¹„ìŠ¤ DB ì—°ê²° | â¬œ |
| 7 | E2E í…ŒìŠ¤íŠ¸ | â¬œ |
